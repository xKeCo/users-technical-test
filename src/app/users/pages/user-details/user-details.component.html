<ng-template #loading>
  <shared-loader></shared-loader>
</ng-template>

<div *ngIf="user; else loading" class="userDetails">
  <header class="userDetails__breadcrumb">
    <div routerLink="/users" class="userDetails__breadcrumb__link">Users</div>
    <p class="userDetails__breadcrumb__separator"></p>
    <p class="userDetails__breadcrumb__actual">{{ user.name }}</p>
  </header>

  <h1 class="userDetails__content__title">User info</h1>
  <main class="userDetails__content">
    <article class="userDetails__content__info">
      <section class="userDetails__content__info__avatar">
        <img
          src="https://source.boringavatars.com/beam/120/{{
            user.username
          }}?colors=0A0310,49007E,FF005B,FF7D10,FFB238"
          alt="User avatar"
          width="100%"
        />
      </section>

      <section class="userDetails__content__info__data">
        <h1 class="userDetails__content__info__data__name">{{ user.name }}</h1>
        <h2 class="userDetails__content__info__data__username">
          @{{ user.username }}
        </h2>
        <h3
          (click)="goToUrl(user.website)"
          class="userDetails__content__info__data__website"
        >
          {{ user.website }}
        </h3>
        <h3 class="userDetails__content__info__data__number">
          {{ user.phone }}
        </h3>
      </section>
    </article>

    <article class="userDetails__content__additonal">
      <h1 class="userDetails__content__title">Company info</h1>

      <section class="userDetails__content__additonal__data">
        <p class="userDetails__content__additonal__data__title">
          Company name:
          <span class="userDetails__content__additonal__data__text">
            {{ user.company.name }}
          </span>
        </p>

        <p class="userDetails__content__additonal__data__title">
          Bussines service:
          <span class="userDetails__content__additonal__data__text">
            {{ user.company.bs }}
          </span>
        </p>

        <p class="userDetails__content__additonal__data__title">
          Bussines catchphrase:
        </p>
        <p class="userDetails__content__additonal__data__text">
          {{ user.company.catchPhrase }}
        </p>
      </section>
    </article>

    <article class="userDetails__content__additonal">
      <h1 class="userDetails__content__title">Address info</h1>

      <section class="userDetails__content__additonal__data">
        <h1 class="userDetails__content__additonal__data__title">
          Current location:
        </h1>
        <p class="userDetails__content__additonal__data__text">
          {{ user.address.street }}, {{ user.address.suite }},
          {{ user.address.city }}, {{ user.address.zipcode }}
        </p>
        <button
          class="userDetails__content__additonal__data__button"
          (click)="
            goToUrl(
              'maps.google.com/maps?z=12&t=m&q=loc:' +
                user.address.geo.lat +
                '+' +
                user.address.geo.lng
            )
          "
        >
          See on map
        </button>
      </section>
    </article>
  </main>
</div>
